(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19d32210"],{1276:function(t,a,e){"use strict";var i=e("d784"),n=e("44e7"),r=e("825a"),s=e("1d80"),l=e("4840"),o=e("8aa5"),c=e("50c4"),u=e("14c3"),f=e("9263"),h=e("d039"),d=[].push,p=Math.min,v=4294967295,g=!h((function(){return!RegExp(v,"y")}));i("split",2,(function(t,a,e){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(s(this)),r=void 0===e?v:e>>>0;if(0===r)return[];if(void 0===t)return[i];if(!n(t))return a.call(i,t,r);var l,o,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,h+"g");while(l=f.call(g,i)){if(o=g.lastIndex,o>p&&(u.push(i.slice(p,l.index)),l.length>1&&l.index<i.length&&d.apply(u,l.slice(1)),c=l[0].length,p=o,u.length>=r))break;g.lastIndex===l.index&&g.lastIndex++}return p===i.length?!c&&g.test("")||u.push(""):u.push(i.slice(p)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,e){var n=s(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,n,e):i.call(String(n),a,e)},function(t,n){var s=e(i,t,this,n,i!==a);if(s.done)return s.value;var f=r(t),h=String(this),d=l(f,RegExp),m=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),x=new d(g?f:"^(?:"+f.source+")",b),C=void 0===n?v:n>>>0;if(0===C)return[];if(0===h.length)return null===u(x,h)?[h]:[];var w=0,I=0,y=[];while(I<h.length){x.lastIndex=g?I:0;var _,T=u(x,g?h:h.slice(I));if(null===T||(_=p(c(x.lastIndex+(g?0:I)),h.length))===w)I=o(h,I,m);else{if(y.push(h.slice(w,I)),y.length===C)return y;for(var V=1;V<=T.length-1;V++)if(y.push(T[V]),y.length===C)return y;I=w=_}}return y.push(h.slice(w)),y}]}),!g)},"2ca0":function(t,a,e){"use strict";var i=e("23e7"),n=e("06cf").f,r=e("50c4"),s=e("5a34"),l=e("1d80"),o=e("ab13"),c=e("c430"),u="".startsWith,f=Math.min,h=o("startsWith"),d=!c&&!h&&!!function(){var t=n(String.prototype,"startsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!d&&!h},{startsWith:function(t){var a=String(l(this));s(t);var e=r(f(arguments.length>1?arguments[1]:void 0,a.length)),i=String(t);return u?u.call(a,i,e):a.slice(e,e+i.length)===i}})},"44e7":function(t,a,e){var i=e("861d"),n=e("c6b6"),r=e("b622"),s=r("match");t.exports=function(t){var a;return i(t)&&(void 0!==(a=t[s])?!!a:"RegExp"==n(t))}},"5a34":function(t,a,e){var i=e("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"77be":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("Header",{attrs:{title:t.username}}),t.loaded?t._e():e("div",{staticClass:"page-loader"},[t._m(0)]),t.loaded?e("h1",{staticClass:"head-title-underline"},[e("i",{staticClass:"fas fa-info-circle icon"}),t._v(" My Account")]):t._e(),t.loaded?e("form",{staticClass:"form"},[e("div",{staticClass:"form-field"},[e("p",{staticClass:"form-field-title"},[t._v("Avatar")]),t.loaded&&t.data.avatar?e("img",{staticStyle:{"margin-top":"0.5em","margin-bottom":"0.5em","border-radius":"50%",height:"50px",width:"50px"},attrs:{src:t.avatarURL}}):t._e(),e("p",{staticClass:"form-field-title-description"},[t._v("Your profile picture which will slow on the website publically, max size 3 megabyte.")]),e("input",{ref:"avatar",staticClass:"form-field-file-input",attrs:{type:"file",id:"avatar-file"},on:{change:t.avatarUpdate}}),e("label",{staticClass:"form-field-file-input-label",attrs:{for:"avatar-file"},domProps:{innerHTML:t._s(t.avatarInputText)}})]),e("div",{staticClass:"form-field"},[e("p",{staticClass:"form-field-title"},[t._v("Bio")]),e("p",{staticClass:"form-field-title-description"},[t._v("A text of maxim 100 characters birefly describing you.")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bio,expression:"bio"}],staticClass:"form-field-textarea",attrs:{placeholder:"I'm a mysterious person."},domProps:{value:t.bio},on:{input:[function(a){a.target.composing||(t.bio=a.target.value)},function(a){return t.update()}]}})]),e("div",{staticClass:"form-field"},[e("p",{staticClass:"form-field-title"},[t._v("Banner")]),e("p",{staticClass:"form-field-title-description"},[t._v("Your profile banner which will slow on your profile publically, max size 5 megabytes.")]),e("input",{ref:"banner",staticClass:"form-field-file-input",attrs:{type:"file",id:"banner-file"},on:{change:t.bannerUpdate}}),e("label",{staticClass:"form-field-file-input-label",attrs:{for:"banner-file"},domProps:{innerHTML:t._s(t.bannerInputText)}})])]):t._e(),t.changed?e("Confirm",{attrs:{loading:t.saving},on:{save:t.save,discard:t.discard}}):t._e(),e("Cookie")],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-pulse"},[e("div"),e("div"),e("div")])}],r=(e("99af"),e("a15b"),e("fb6a"),e("b0c0"),e("d3b7"),e("ac1f"),e("1276"),e("2ca0"),e("96cf"),e("1da1")),s=e("0418"),l=e("11e0"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("center",[e("div",{staticClass:"confirmation"},[e("div",{staticClass:"confirmation-text"},[t._v("Careful â€” you have unsaved changes!")]),e("div",{staticClass:"confirmation-buttons"},[e("a",{staticClass:"confirmation-discard",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.$emit("discard")}}},[t._v("Discard Changes")]),t.loading?t._e():e("a",{staticClass:"confirmation-primary",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.$emit("save")}}},[t._v("Save Changes")]),t.loading?e("a",{staticClass:"confirmation-primary"},[e("div",{staticClass:"ball-pulse"},[e("div"),e("div"),e("div")])]):t._e()])])])},c=[],u={name:"Confirm",props:["loading"]},f=u,h=e("2877"),d=Object(h["a"])(f,o,c,!1,null,null,null),p=d.exports,v=e("2f62"),g={name:"Account",computed:Object(v["c"])(["id","username"]),components:{Header:s["a"],Cookie:l["a"],Confirm:p},data:function(){return{data:{},loaded:!1,bio:null,changed:!1,saving:!1,avatarInputText:"<i class='fas fa-image'></i> Choose a profile picture",avatarInputValue:null,bannerInputText:"<i class='fas fa-image'></i> Choose a banner picture",bannerInputValue:null,avatarURL:null}},methods:{loadProfileData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("".concat(this.$apiBase,"/fetch/user/").concat(this.id),{withCredentials:!0,credentials:"same-origin"});case 2:a=t.sent,a.data.exists?(this.data=a.data.user,this.loaded=!0):window.location.href="/login",this.init();case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),init:function(){this.bio=this.data.bio,this.avatarInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.avatar?" new":""," profile picture"),this.bannerInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.banner?" new":""," banner picture"),this.avatarURL="".concat(this.$apiBase.split("/").slice(0,3).join("/"),"/cdn/avatars/").concat(this.data.avatar)},update:function(){this.bio!==this.data.bio||null!==this.avatarInputValue||null!==this.bannerInputValue?this.changed=!0:this.changed=!1},save:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.saving=!0,!this.avatarInputValue){t.next=5;break}return t.next=4,this.fileBase(this.avatarInputValue);case 4:a=t.sent;case 5:if(!this.bannerInputValue){t.next=9;break}return t.next=8,this.fileBase(this.bannerInputValue);case 8:e=t.sent;case 9:return t.next=11,this.$axios.post("".concat(this.$apiBase,"/user/").concat(this.data.id),{bio:this.bio,avatar:a||null,banner:e||null},{withCredentials:!0,credentials:"same-origin"});case 11:return i=t.sent,t.next=14,this.loadProfileData();case 14:this.avatarInputValue=null,this.avatarInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.avatar?" new":""," profile picture"),this.$refs.avatar.value="",this.bannerInputValue=null,this.bannerInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.banner?" new":""," banner picture"),this.$refs.banner.value="",console.log(i.data),this.changed=!1,this.saving=!1;case 23:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),discard:function(){this.init(),this.avatarInputValue=null,this.avatarInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.avatar?" new":""," profile picture"),this.$refs.avatar.value="",this.bannerInputValue=null,this.bannerInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.banner?" new":""," banner picture"),this.$refs.banner.value="",this.changed=!1},avatarUpdate:function(t){var a=t.target,e=a.files[0];e?e.type.startsWith("image")?e.size>3e6?(this.avatarInputText="<i class='fas fa-exclamation-triangle'></i> Chose a".concat(this.data.avatar?" new":""," profile picture, max 3 megabytes"),this.avatarInputValue=null):(this.avatarInputText="<i class='fas fa-image'></i> ".concat(e.name),this.avatarInputValue=e):(this.avatarInputValue=null,this.avatarInputText="<i class='fas fa-exclamation-triangle'></i> Choose a".concat(this.data.avatar?" new":""," profile picture"),a.value=""):(this.avatarInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.avatar?" new":""," profile picture"),this.avatarInputValue=null),this.update()},bannerUpdate:function(t){var a=t.target,e=a.files[0];e?e.type.startsWith("image")?e.size>5e6?(this.bannerInputText="<i class='fas fa-exclamation-triangle'></i> Chose a".concat(this.data.banner?" new":""," banner picture, max 5 megabytes"),this.bannerInputValue=null):(this.bannerInputText="<i class='fas fa-image'></i> ".concat(e.name),this.bannerInputValue=e):(this.bannerInputValue=null,this.bannerInputText="<i class='fas fa-exclamation-triangle'></i> Choose a".concat(this.data.banner?" new":""," banner picture"),a.value=""):(this.bannerInputText="<i class='fas fa-image'></i> Choose a".concat(this.data.banner?" new":""," banner picture"),this.bannerInputText=null),this.update()},fileBase:function(t){return new Promise((function(a,e){var i=new FileReader;i.onload=function(t){a(t.target.result)},i.readAsDataURL(t)}))}},mounted:function(){this.loadProfileData()}},m=g,b=Object(h["a"])(m,i,n,!1,null,null,null);a["default"]=b.exports},"8aa5":function(t,a,e){"use strict";var i=e("6547").charAt;t.exports=function(t,a,e){return a+(e?i(t,a).length:1)}},a15b:function(t,a,e){"use strict";var i=e("23e7"),n=e("44ad"),r=e("fc6a"),s=e("a640"),l=[].join,o=n!=Object,c=s("join",",");i({target:"Array",proto:!0,forced:o||!c},{join:function(t){return l.call(r(this),void 0===t?",":t)}})},ab13:function(t,a,e){var i=e("b622"),n=i("match");t.exports=function(t){var a=/./;try{"/./"[t](a)}catch(e){try{return a[n]=!1,"/./"[t](a)}catch(i){}}return!1}},b0c0:function(t,a,e){var i=e("83ab"),n=e("9bf2").f,r=Function.prototype,s=r.toString,l=/^\s*function ([^ (]*)/,o="name";i&&!(o in r)&&n(r,o,{configurable:!0,get:function(){try{return s.call(this).match(l)[1]}catch(t){return""}}})},fb6a:function(t,a,e){"use strict";var i=e("23e7"),n=e("861d"),r=e("e8b5"),s=e("23cb"),l=e("50c4"),o=e("fc6a"),c=e("8418"),u=e("b622"),f=e("1dde"),h=e("ae40"),d=f("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),g=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,a){var e,i,u,f=o(this),h=l(f.length),d=s(t,h),p=s(void 0===a?h:a,h);if(r(f)&&(e=f.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)?n(e)&&(e=e[v],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return g.call(f,d,p);for(i=new(void 0===e?Array:e)(m(p-d,0)),u=0;d<p;d++,u++)d in f&&c(i,u,f[d]);return i.length=u,i}})}}]);
//# sourceMappingURL=chunk-19d32210.3a73c923.js.map